<!DOCTYPE html>
<html>
    <head>
        <title>Bookmarklet Folder</title>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <!-- Custom styles -->
        <style>
            body {
                background-color: #292929;
                color: white;
            }
            .btn {
                cursor: pointer;
            }
        </style>
    </head>    
<body>
    <div class="container text-center">
        <h1>Bookmark Folder Download</h1>
        <p>To import the bookmark folder:</p>
        <ol style="list-style: none; padding: 0; margin: 0; margin-bottom: 20px;">
            <li>Download the bookmark folder by clicking the button below.</li>
            <li>In Google Chrome, click the three dots in the top-right corner and select "Bookmarks".</li>
            <li>Click the three dots in the top-right corner and select "Bookmark manager".</li>
            <li>Select "Import bookmarks" and choose the HTML file you just downloaded.</li>
            <li>If you have trouble finding the HTML file, you can check your recent downloads.</li>
        </ol>
    
        <button class="btn btn-primary btn-lg" style="margin-top: 20px;" onclick="authenticatePassword()">Download Bookmark Folder</button>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
function authenticatePassword() {
  var password = prompt("Please enter the password:");

  $.ajax({
    url: "download.php",
    type: "POST",
    data: { password: password },
    success: function(response) {
      if (response.status == "success") {
        var downloadLink = document.createElement('a');
        downloadLink.setAttribute('href', 'data:text/html;charset=utf-8,' + encodeURIComponent(response.bookmarkFolder));
        downloadLink.setAttribute('download', 'bookmark-folder.html');
        downloadLink.style.display = 'none';
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
      } else {
        alert(response.message);
      }
    }
  });
}
</script>



    </div>    
</body>
</html>
